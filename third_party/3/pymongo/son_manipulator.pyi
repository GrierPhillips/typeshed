from bson import SON
from pymongo.collection import Collection
from pymongo.database import Database


class SONManipulator(object):
    def will_copy(self) -> bool: ...
    def transform_incoming(self, son: SON, collection: Collection) -> SON: ...
    def transform_outgoing(self, son: SON, collection: Collection) -> SON: ...
class ObjectIdInjector(SONManipulator):
    def transform_incoming(self, son: SON, collection: Collection) -> SON: ...
class ObjectIdShuffler(SONManipulator):
    def will_copy(self) -> bool: ...
    def transform_incoming(self, son: SON, collection: Collection) -> SON: ...
class NamespaceInjector(SONManipulator):
    def transform_incoming(self, son: SON, collection: Collection) -> SON: ...
class AutoReference(SONManipulator):
    def __init__(self, db: Database) -> None: ...
    def will_copy(self) -> bool: ...
    def transform_incoming(self, son: SON, collection: Collection) -> SON: ...
    def transform_outgoing(self, son: SON, collection: Collection) -> SON: ...
